{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/sadu/Sites/WC/rubikssoft/ecomerce-mob-app/node_modules/react-navigation-stack/dist/views/Header/Header.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport I18nManager from \"react-native-web/dist/exports/I18nManager\";\nimport MaskedViewIOS from \"react-native-web/dist/exports/MaskedViewIOS\";\nimport { SafeAreaView, withOrientation } from 'react-navigation';\nimport HeaderTitle from \"./HeaderTitle\";\nimport HeaderBackButton from \"./HeaderBackButton\";\nimport ModularHeaderBackButton from \"./ModularHeaderBackButton\";\nimport HeaderStyleInterpolator from \"./HeaderStyleInterpolator\";\nvar APPBAR_HEIGHT = Platform.OS === 'ios' ? 44 : 56;\nvar STATUSBAR_HEIGHT = Platform.OS === 'ios' ? 20 : 0;\nvar TITLE_OFFSET_CENTER_ALIGN = Platform.OS === 'ios' ? 70 : 56;\nvar TITLE_OFFSET_LEFT_ALIGN = Platform.OS === 'ios' ? 20 : 56;\n\nvar getTitleOffsets = function getTitleOffsets(layoutPreset, forceBackTitle, hasLeftComponent, hasRightComponent) {\n  if (layoutPreset === 'left') {\n    var style = {\n      left: TITLE_OFFSET_LEFT_ALIGN,\n      right: TITLE_OFFSET_LEFT_ALIGN\n    };\n\n    if (!hasLeftComponent) {\n      style.left = 0;\n    }\n\n    if (!hasRightComponent) {\n      style.right = 0;\n    }\n\n    return style;\n  } else if (layoutPreset === 'center') {\n    var _style = {\n      left: TITLE_OFFSET_CENTER_ALIGN,\n      right: TITLE_OFFSET_CENTER_ALIGN\n    };\n\n    if (!hasLeftComponent && !hasRightComponent) {\n      _style.left = 0;\n      _style.right = 0;\n    }\n\n    return _style;\n  }\n};\n\nvar getAppBarHeight = function getAppBarHeight(isLandscape) {\n  return Platform.OS === 'ios' ? isLandscape && !Platform.isPad ? 32 : 44 : 56;\n};\n\nvar Header = function (_React$PureComponent) {\n  _inherits(Header, _React$PureComponent);\n\n  var _super = _createSuper(Header);\n\n  function Header() {\n    var _this;\n\n    _classCallCheck(this, Header);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      widths: {}\n    };\n\n    _this._renderTitleComponent = function (props) {\n      var layoutPreset = _this.props.layoutPreset;\n      var options = props.scene.descriptor.options;\n      var headerTitle = options.headerTitle;\n\n      if (React.isValidElement(headerTitle)) {\n        return headerTitle;\n      }\n\n      var titleString = _this._getHeaderTitleString(props.scene);\n\n      var titleStyle = options.headerTitleStyle;\n      var color = options.headerTintColor;\n      var allowFontScaling = options.headerTitleAllowFontScaling;\n      var onLayout = layoutPreset === 'center' ? function (e) {\n        _this.setState({\n          widths: _objectSpread(_objectSpread({}, _this.state.widths), {}, _defineProperty({}, props.scene.key, e.nativeEvent.layout.width))\n        });\n      } : undefined;\n      var HeaderTitleComponent = headerTitle && typeof headerTitle !== 'string' ? headerTitle : HeaderTitle;\n      return React.createElement(HeaderTitleComponent, {\n        onLayout: onLayout,\n        allowFontScaling: allowFontScaling == null ? true : allowFontScaling,\n        style: [color ? {\n          color: color\n        } : null, layoutPreset === 'center' ? {\n          textAlign: 'center'\n        } : {\n          textAlign: 'left'\n        }, titleStyle],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 12\n        }\n      }, titleString);\n    };\n\n    _this._renderLeftComponent = function (props) {\n      var options = props.scene.descriptor.options;\n\n      if (React.isValidElement(options.headerLeft) || options.headerLeft === null) {\n        return options.headerLeft;\n      }\n\n      if (!options.headerLeft && props.scene.index === 0) {\n        return;\n      }\n\n      var backButtonTitle = _this._getBackButtonTitleString(props.scene);\n\n      var truncatedBackButtonTitle = _this._getTruncatedBackButtonTitle(props.scene);\n\n      var width = _this.state.widths[props.scene.key] ? (_this.props.layout.initWidth - _this.state.widths[props.scene.key]) / 2 : undefined;\n      var RenderedLeftComponent = options.headerLeft || HeaderBackButton;\n\n      var goBack = function goBack() {\n        requestAnimationFrame(function () {\n          props.scene.descriptor.navigation.goBack(props.scene.descriptor.key);\n        });\n      };\n\n      return React.createElement(RenderedLeftComponent, {\n        onPress: goBack,\n        pressColorAndroid: options.headerPressColorAndroid,\n        tintColor: options.headerTintColor,\n        backImage: options.headerBackImage,\n        title: backButtonTitle,\n        truncatedTitle: truncatedBackButtonTitle,\n        backTitleVisible: _this.props.backTitleVisible,\n        titleStyle: options.headerBackTitleStyle,\n        layoutPreset: _this.props.layoutPreset,\n        width: width,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 12\n        }\n      });\n    };\n\n    _this._renderModularLeftComponent = function (props, ButtonContainerComponent, LabelContainerComponent) {\n      var _props$scene$descript = props.scene.descriptor,\n          options = _props$scene$descript.options,\n          navigation = _props$scene$descript.navigation;\n\n      var backButtonTitle = _this._getBackButtonTitleString(props.scene);\n\n      var truncatedBackButtonTitle = _this._getTruncatedBackButtonTitle(props.scene);\n\n      var width = _this.state.widths[props.scene.key] ? (_this.props.layout.initWidth - _this.state.widths[props.scene.key]) / 2 : undefined;\n\n      var goBack = function goBack() {\n        requestAnimationFrame(function () {\n          navigation.goBack(props.scene.descriptor.key);\n        });\n      };\n\n      return React.createElement(ModularHeaderBackButton, {\n        onPress: goBack,\n        ButtonContainerComponent: ButtonContainerComponent,\n        LabelContainerComponent: LabelContainerComponent,\n        pressColorAndroid: options.headerPressColorAndroid,\n        tintColor: options.headerTintColor,\n        backImage: options.headerBackImage,\n        title: backButtonTitle,\n        truncatedTitle: truncatedBackButtonTitle,\n        titleStyle: options.headerBackTitleStyle,\n        width: width,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 12\n        }\n      });\n    };\n\n    _this._renderRightComponent = function (props) {\n      var headerRight = props.scene.descriptor.options.headerRight;\n      return headerRight || null;\n    };\n\n    return _this;\n  }\n\n  _createClass(Header, [{\n    key: \"_getHeaderTitleString\",\n    value: function _getHeaderTitleString(scene) {\n      var options = scene.descriptor.options;\n\n      if (typeof options.headerTitle === 'string') {\n        return options.headerTitle;\n      }\n\n      if (options.title && typeof options.title !== 'string' && __DEV__) {\n        throw new Error(\"Invalid title for route \\\"\" + scene.route.routeName + \"\\\" - title must be string or null, instead it was of type \" + typeof options.title);\n      }\n\n      return options.title;\n    }\n  }, {\n    key: \"_getLastScene\",\n    value: function _getLastScene(scene) {\n      return this.props.scenes.find(function (s) {\n        return s.index === scene.index - 1;\n      });\n    }\n  }, {\n    key: \"_getBackButtonTitleString\",\n    value: function _getBackButtonTitleString(scene) {\n      var lastScene = this._getLastScene(scene);\n\n      if (!lastScene) {\n        return null;\n      }\n\n      var headerBackTitle = lastScene.descriptor.options.headerBackTitle;\n\n      if (headerBackTitle || headerBackTitle === null) {\n        return headerBackTitle;\n      }\n\n      return this._getHeaderTitleString(lastScene);\n    }\n  }, {\n    key: \"_getTruncatedBackButtonTitle\",\n    value: function _getTruncatedBackButtonTitle(scene) {\n      var lastScene = this._getLastScene(scene);\n\n      if (!lastScene) {\n        return null;\n      }\n\n      return lastScene.descriptor.options.headerTruncatedBackTitle;\n    }\n  }, {\n    key: \"_renderLeft\",\n    value: function _renderLeft(props) {\n      var options = props.scene.descriptor.options;\n      var transitionPreset = this.props.transitionPreset;\n      var style = props.style;\n\n      if (options.headerLeftContainerStyle) {\n        style = [style, options.headerLeftContainerStyle];\n      }\n\n      if (transitionPreset !== 'uikit' || options.headerBackImage || options.headerLeft || options.headerLeft === null) {\n        return this._renderSubView(_objectSpread(_objectSpread({}, props), {}, {\n          style: style\n        }), 'left', this._renderLeftComponent, this.props.leftInterpolator);\n      } else {\n        return this._renderModularSubView(_objectSpread(_objectSpread({}, props), {}, {\n          style: style\n        }), 'left', this._renderModularLeftComponent, this.props.leftLabelInterpolator, this.props.leftButtonInterpolator);\n      }\n    }\n  }, {\n    key: \"_renderTitle\",\n    value: function _renderTitle(props, options) {\n      var _this$props = this.props,\n          layoutPreset = _this$props.layoutPreset,\n          transitionPreset = _this$props.transitionPreset;\n      var style = [{\n        justifyContent: layoutPreset === 'center' ? 'center' : 'flex-start'\n      }, getTitleOffsets(layoutPreset, false, options.hasLeftComponent, options.hasRightComponent), options.headerTitleContainerStyle];\n      return this._renderSubView(_objectSpread(_objectSpread({}, props), {}, {\n        style: style\n      }), 'title', this._renderTitleComponent, transitionPreset === 'uikit' ? this.props.titleFromLeftInterpolator : this.props.titleInterpolator);\n    }\n  }, {\n    key: \"_renderRight\",\n    value: function _renderRight(props) {\n      var options = props.scene.descriptor.options;\n      var style = props.style;\n\n      if (options.headerRightContainerStyle) {\n        style = [style, options.headerRightContainerStyle];\n      }\n\n      return this._renderSubView(_objectSpread(_objectSpread({}, props), {}, {\n        style: style\n      }), 'right', this._renderRightComponent, this.props.rightInterpolator);\n    }\n  }, {\n    key: \"_renderBackground\",\n    value: function _renderBackground(props) {\n      var _props$scene = props.scene,\n          index = _props$scene.index,\n          options = _props$scene.descriptor.options;\n      var offset = this.props.navigation.state.index - index;\n\n      if (Math.abs(offset) > 2) {\n        return null;\n      }\n\n      return this._renderSubView(_objectSpread(_objectSpread({}, props), {}, {\n        style: StyleSheet.absoluteFill\n      }), 'background', function () {\n        return options.headerBackground;\n      }, this.props.backgroundInterpolator);\n    }\n  }, {\n    key: \"_renderModularSubView\",\n    value: function _renderModularSubView(props, name, renderer, labelStyleInterpolator, buttonStyleInterpolator) {\n      var _this2 = this;\n\n      var scene = props.scene;\n      var index = scene.index,\n          isStale = scene.isStale,\n          key = scene.key;\n\n      if (index === 0) {\n        return;\n      }\n\n      var offset = this.props.navigation.state.index - index;\n\n      if (Math.abs(offset) > 2) {\n        return null;\n      }\n\n      var ButtonContainer = function ButtonContainer(_ref) {\n        var children = _ref.children;\n        return React.createElement(Animated.View, {\n          style: [buttonStyleInterpolator(_objectSpread(_objectSpread({}, _this2.props), props))],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 47\n          }\n        }, children);\n      };\n\n      var LabelContainer = function LabelContainer(_ref2) {\n        var children = _ref2.children;\n        return React.createElement(Animated.View, {\n          style: [labelStyleInterpolator(_objectSpread(_objectSpread({}, _this2.props), props))],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 46\n          }\n        }, children);\n      };\n\n      var subView = renderer(props, ButtonContainer, LabelContainer);\n\n      if (subView === null) {\n        return subView;\n      }\n\n      var pointerEvents = offset !== 0 || isStale ? 'none' : 'box-none';\n      return React.createElement(View, {\n        key: name + \"_\" + key,\n        pointerEvents: pointerEvents,\n        style: [styles.item, styles[name], props.style],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 12\n        }\n      }, subView);\n    }\n  }, {\n    key: \"_renderSubView\",\n    value: function _renderSubView(props, name, renderer, styleInterpolator) {\n      var scene = props.scene;\n      var index = scene.index,\n          isStale = scene.isStale,\n          key = scene.key;\n      var offset = this.props.navigation.state.index - index;\n\n      if (Math.abs(offset) > 2) {\n        return null;\n      }\n\n      var subView = renderer(props);\n\n      if (subView == null) {\n        return null;\n      }\n\n      var pointerEvents = offset !== 0 || isStale ? 'none' : 'box-none';\n      return React.createElement(Animated.View, {\n        pointerEvents: pointerEvents,\n        key: name + \"_\" + key,\n        style: [styles.item, styles[name], props.style, styleInterpolator(_objectSpread(_objectSpread({}, this.props), props))],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 12\n        }\n      }, subView);\n    }\n  }, {\n    key: \"_renderHeader\",\n    value: function _renderHeader(props) {\n      var options = props.scene.descriptor.options;\n\n      if (options.header === null) {\n        return null;\n      }\n\n      var left = this._renderLeft(props);\n\n      var right = this._renderRight(props);\n\n      var title = this._renderTitle(props, {\n        hasLeftComponent: !!left,\n        hasRightComponent: !!right,\n        headerTitleContainerStyle: options.headerTitleContainerStyle\n      });\n\n      var transitionPreset = this.props.transitionPreset;\n      var wrapperProps = {\n        style: styles.header,\n        key: \"scene_\" + props.scene.key\n      };\n\n      if (options.headerLeft || options.headerBackImage || Platform.OS !== 'ios' || transitionPreset !== 'uikit') {\n        return React.createElement(View, _extends({}, wrapperProps, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 14\n          }\n        }), title, left, right);\n      } else {\n        return React.createElement(MaskedViewIOS, _extends({}, wrapperProps, {\n          maskElement: React.createElement(View, {\n            style: styles.iconMaskContainer,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 60\n            }\n          }, React.createElement(Image, {\n            source: require(\"../assets/back-icon-mask.png\"),\n            style: styles.iconMask,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 15\n            }\n          }), React.createElement(View, {\n            style: styles.iconMaskFillerRect,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 15\n            }\n          })),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 14\n          }\n        }), title, left, right);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var appBar;\n      var background;\n      var _this$props2 = this.props,\n          mode = _this$props2.mode,\n          scene = _this$props2.scene,\n          isLandscape = _this$props2.isLandscape;\n\n      if (mode === 'float') {\n        var scenesByIndex = {};\n        this.props.scenes.forEach(function (scene) {\n          scenesByIndex[scene.index] = scene;\n        });\n        var scenesProps = Object.values(scenesByIndex).map(function (scene) {\n          return {\n            position: _this3.props.position,\n            progress: _this3.props.progress,\n            scene: scene\n          };\n        });\n        appBar = scenesProps.map(this._renderHeader, this);\n        background = scenesProps.map(this._renderBackground, this);\n      } else {\n        var headerProps = {\n          position: new Animated.Value(this.props.scene.index),\n          progress: new Animated.Value(0),\n          scene: this.props.scene\n        };\n        appBar = this._renderHeader(headerProps);\n        background = this._renderBackground(headerProps);\n      }\n\n      var options = scene.descriptor.options;\n      var _options$headerStyle = options.headerStyle,\n          headerStyle = _options$headerStyle === void 0 ? {} : _options$headerStyle;\n      var headerStyleObj = StyleSheet.flatten(headerStyle);\n      var appBarHeight = getAppBarHeight(isLandscape);\n\n      var alignItems = headerStyleObj.alignItems,\n          justifyContent = headerStyleObj.justifyContent,\n          flex = headerStyleObj.flex,\n          flexDirection = headerStyleObj.flexDirection,\n          flexGrow = headerStyleObj.flexGrow,\n          flexShrink = headerStyleObj.flexShrink,\n          flexBasis = headerStyleObj.flexBasis,\n          flexWrap = headerStyleObj.flexWrap,\n          position = headerStyleObj.position,\n          padding = headerStyleObj.padding,\n          paddingHorizontal = headerStyleObj.paddingHorizontal,\n          paddingRight = headerStyleObj.paddingRight,\n          paddingLeft = headerStyleObj.paddingLeft,\n          top = headerStyleObj.top,\n          right = headerStyleObj.right,\n          bottom = headerStyleObj.bottom,\n          left = headerStyleObj.left,\n          safeHeaderStyle = _objectWithoutProperties(headerStyleObj, [\"alignItems\", \"justifyContent\", \"flex\", \"flexDirection\", \"flexGrow\", \"flexShrink\", \"flexBasis\", \"flexWrap\", \"position\", \"padding\", \"paddingHorizontal\", \"paddingRight\", \"paddingLeft\", \"top\", \"right\", \"bottom\", \"left\"]);\n\n      if (__DEV__) {\n        warnIfHeaderStyleDefined(alignItems, 'alignItems');\n        warnIfHeaderStyleDefined(justifyContent, 'justifyContent');\n        warnIfHeaderStyleDefined(flex, 'flex');\n        warnIfHeaderStyleDefined(flexDirection, 'flexDirection');\n        warnIfHeaderStyleDefined(flexGrow, 'flexGrow');\n        warnIfHeaderStyleDefined(flexShrink, 'flexShrink');\n        warnIfHeaderStyleDefined(flexBasis, 'flexBasis');\n        warnIfHeaderStyleDefined(flexWrap, 'flexWrap');\n        warnIfHeaderStyleDefined(padding, 'padding');\n        warnIfHeaderStyleDefined(position, 'position');\n        warnIfHeaderStyleDefined(paddingHorizontal, 'paddingHorizontal');\n        warnIfHeaderStyleDefined(paddingRight, 'paddingRight');\n        warnIfHeaderStyleDefined(paddingLeft, 'paddingLeft');\n        warnIfHeaderStyleDefined(top, 'top');\n        warnIfHeaderStyleDefined(right, 'right');\n        warnIfHeaderStyleDefined(bottom, 'bottom');\n        warnIfHeaderStyleDefined(left, 'left');\n      }\n\n      var containerStyles = [options.headerTransparent ? styles.transparentContainer : styles.container, {\n        height: appBarHeight\n      }, safeHeaderStyle];\n      var headerForceInset = options.headerForceInset;\n      var forceInset = headerForceInset || {\n        top: 'always',\n        bottom: 'never'\n      };\n      return React.createElement(Animated.View, {\n        style: [this.props.layoutInterpolator(this.props), Platform.OS === 'ios' && !options.headerTransparent ? {\n          backgroundColor: safeHeaderStyle.backgroundColor || DEFAULT_BACKGROUND_COLOR\n        } : null],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 12\n        }\n      }, React.createElement(SafeAreaView, {\n        forceInset: forceInset,\n        style: containerStyles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 9\n        }\n      }, background, React.createElement(View, {\n        style: styles.flexOne,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 11\n        }\n      }, appBar)));\n    }\n  }], [{\n    key: \"HEIGHT\",\n    get: function get() {\n      return APPBAR_HEIGHT + STATUSBAR_HEIGHT;\n    }\n  }]);\n\n  return Header;\n}(React.PureComponent);\n\nHeader.defaultProps = {\n  layoutInterpolator: HeaderStyleInterpolator.forLayout,\n  leftInterpolator: HeaderStyleInterpolator.forLeft,\n  leftButtonInterpolator: HeaderStyleInterpolator.forLeftButton,\n  leftLabelInterpolator: HeaderStyleInterpolator.forLeftLabel,\n  titleFromLeftInterpolator: HeaderStyleInterpolator.forCenterFromLeft,\n  titleInterpolator: HeaderStyleInterpolator.forCenter,\n  rightInterpolator: HeaderStyleInterpolator.forRight,\n  backgroundInterpolator: HeaderStyleInterpolator.forBackground\n};\n\nfunction warnIfHeaderStyleDefined(value, styleProp) {\n  if (styleProp === 'position' && value === 'absolute') {\n    console.warn(\"position: 'absolute' is not supported on headerStyle. If you would like to render content under the header, use the headerTransparent navigationOption.\");\n  } else if (value !== undefined) {\n    console.warn(styleProp + \" was given a value of \" + value + \", this has no effect on headerStyle.\");\n  }\n}\n\nvar platformContainerStyles;\n\nif (Platform.OS === 'ios') {\n  platformContainerStyles = {\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    borderBottomColor: '#A7A7AA'\n  };\n} else {\n  platformContainerStyles = {\n    shadowColor: 'black',\n    shadowOpacity: 0.1,\n    shadowRadius: StyleSheet.hairlineWidth,\n    shadowOffset: {\n      height: StyleSheet.hairlineWidth\n    },\n    elevation: 4\n  };\n}\n\nvar DEFAULT_BACKGROUND_COLOR = '#FFF';\nvar styles = StyleSheet.create({\n  container: _objectSpread({\n    backgroundColor: DEFAULT_BACKGROUND_COLOR\n  }, platformContainerStyles),\n  transparentContainer: _objectSpread(_objectSpread({\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0\n  }, platformContainerStyles), {}, {\n    borderBottomWidth: 0,\n    borderBottomColor: 'transparent',\n    elevation: 0\n  }),\n  header: _objectSpread(_objectSpread({}, StyleSheet.absoluteFillObject), {}, {\n    flexDirection: 'row'\n  }),\n  item: {\n    backgroundColor: 'transparent'\n  },\n  iconMaskContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'center'\n  },\n  iconMaskFillerRect: {\n    flex: 1,\n    backgroundColor: '#d8d8d8',\n    marginLeft: -3\n  },\n  iconMask: {\n    height: 21,\n    width: 12,\n    marginLeft: 9,\n    marginTop: -0.5,\n    alignSelf: 'center',\n    resizeMode: 'contain',\n    transform: [{\n      scaleX: I18nManager.isRTL ? -1 : 1\n    }]\n  },\n  title: {\n    bottom: 0,\n    top: 0,\n    position: 'absolute',\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  left: {\n    left: 0,\n    bottom: 0,\n    top: 0,\n    position: 'absolute',\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  right: {\n    right: 0,\n    bottom: 0,\n    top: 0,\n    position: 'absolute',\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  flexOne: {\n    flex: 1\n  }\n});\nexport default withOrientation(Header);","map":{"version":3,"sources":["/Users/sadu/Sites/WC/rubikssoft/ecomerce-mob-app/node_modules/react-navigation-stack/dist/views/Header/Header.js"],"names":["React","SafeAreaView","withOrientation","HeaderTitle","HeaderBackButton","ModularHeaderBackButton","HeaderStyleInterpolator","APPBAR_HEIGHT","Platform","OS","STATUSBAR_HEIGHT","TITLE_OFFSET_CENTER_ALIGN","TITLE_OFFSET_LEFT_ALIGN","getTitleOffsets","layoutPreset","forceBackTitle","hasLeftComponent","hasRightComponent","style","left","right","getAppBarHeight","isLandscape","isPad","Header","state","widths","_renderTitleComponent","props","options","scene","descriptor","headerTitle","isValidElement","titleString","_getHeaderTitleString","titleStyle","headerTitleStyle","color","headerTintColor","allowFontScaling","headerTitleAllowFontScaling","onLayout","e","setState","key","nativeEvent","layout","width","undefined","HeaderTitleComponent","textAlign","_renderLeftComponent","headerLeft","index","backButtonTitle","_getBackButtonTitleString","truncatedBackButtonTitle","_getTruncatedBackButtonTitle","initWidth","RenderedLeftComponent","goBack","requestAnimationFrame","navigation","headerPressColorAndroid","headerBackImage","backTitleVisible","headerBackTitleStyle","_renderModularLeftComponent","ButtonContainerComponent","LabelContainerComponent","_renderRightComponent","headerRight","title","__DEV__","Error","route","routeName","scenes","find","s","lastScene","_getLastScene","headerBackTitle","headerTruncatedBackTitle","transitionPreset","headerLeftContainerStyle","_renderSubView","leftInterpolator","_renderModularSubView","leftLabelInterpolator","leftButtonInterpolator","justifyContent","headerTitleContainerStyle","titleFromLeftInterpolator","titleInterpolator","headerRightContainerStyle","rightInterpolator","offset","Math","abs","StyleSheet","absoluteFill","headerBackground","backgroundInterpolator","name","renderer","labelStyleInterpolator","buttonStyleInterpolator","isStale","ButtonContainer","children","LabelContainer","subView","pointerEvents","styles","item","styleInterpolator","header","_renderLeft","_renderRight","_renderTitle","wrapperProps","iconMaskContainer","require","iconMask","iconMaskFillerRect","appBar","background","mode","scenesByIndex","forEach","scenesProps","Object","values","map","position","progress","_renderHeader","_renderBackground","headerProps","Animated","Value","headerStyle","headerStyleObj","flatten","appBarHeight","alignItems","flex","flexDirection","flexGrow","flexShrink","flexBasis","flexWrap","padding","paddingHorizontal","paddingRight","paddingLeft","top","bottom","safeHeaderStyle","warnIfHeaderStyleDefined","containerStyles","headerTransparent","transparentContainer","container","height","headerForceInset","forceInset","layoutInterpolator","backgroundColor","DEFAULT_BACKGROUND_COLOR","flexOne","PureComponent","defaultProps","forLayout","forLeft","forLeftButton","forLeftLabel","forCenterFromLeft","forCenter","forRight","forBackground","value","styleProp","console","warn","platformContainerStyles","borderBottomWidth","hairlineWidth","borderBottomColor","shadowColor","shadowOpacity","shadowRadius","shadowOffset","elevation","create","absoluteFillObject","marginLeft","marginTop","alignSelf","resizeMode","transform","scaleX","I18nManager","isRTL"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport { Animated, Image, Platform, StyleSheet, View, I18nManager, MaskedViewIOS } from 'react-native';\n\nimport { SafeAreaView, withOrientation } from 'react-navigation';\n\nimport HeaderTitle from './HeaderTitle';\nimport HeaderBackButton from './HeaderBackButton';\nimport ModularHeaderBackButton from './ModularHeaderBackButton';\nimport HeaderStyleInterpolator from './HeaderStyleInterpolator';\n\nconst APPBAR_HEIGHT = Platform.OS === 'ios' ? 44 : 56;\nconst STATUSBAR_HEIGHT = Platform.OS === 'ios' ? 20 : 0;\n\n// These can be adjusted by using headerTitleContainerStyle on navigationOptions\nconst TITLE_OFFSET_CENTER_ALIGN = Platform.OS === 'ios' ? 70 : 56;\nconst TITLE_OFFSET_LEFT_ALIGN = Platform.OS === 'ios' ? 20 : 56;\n\nconst getTitleOffsets = (layoutPreset, forceBackTitle, hasLeftComponent, hasRightComponent) => {\n  if (layoutPreset === 'left') {\n    // Maybe at some point we should do something different if the back title is\n    // explicitly enabled, for now people can control it manually\n\n    let style = {\n      left: TITLE_OFFSET_LEFT_ALIGN,\n      right: TITLE_OFFSET_LEFT_ALIGN\n    };\n\n    if (!hasLeftComponent) {\n      style.left = 0;\n    }\n    if (!hasRightComponent) {\n      style.right = 0;\n    }\n\n    return style;\n  } else if (layoutPreset === 'center') {\n    let style = {\n      left: TITLE_OFFSET_CENTER_ALIGN,\n      right: TITLE_OFFSET_CENTER_ALIGN\n    };\n    if (!hasLeftComponent && !hasRightComponent) {\n      style.left = 0;\n      style.right = 0;\n    }\n\n    return style;\n  }\n};\n\nconst getAppBarHeight = isLandscape => {\n  return Platform.OS === 'ios' ? isLandscape && !Platform.isPad ? 32 : 44 : 56;\n};\n\nclass Header extends React.PureComponent {\n  static get HEIGHT() {\n    return APPBAR_HEIGHT + STATUSBAR_HEIGHT;\n  }\n\n  static defaultProps = {\n    layoutInterpolator: HeaderStyleInterpolator.forLayout,\n    leftInterpolator: HeaderStyleInterpolator.forLeft,\n    leftButtonInterpolator: HeaderStyleInterpolator.forLeftButton,\n    leftLabelInterpolator: HeaderStyleInterpolator.forLeftLabel,\n    titleFromLeftInterpolator: HeaderStyleInterpolator.forCenterFromLeft,\n    titleInterpolator: HeaderStyleInterpolator.forCenter,\n    rightInterpolator: HeaderStyleInterpolator.forRight,\n    backgroundInterpolator: HeaderStyleInterpolator.forBackground\n  };\n\n  state = {\n    widths: {}\n  };\n\n  _getHeaderTitleString(scene) {\n    const options = scene.descriptor.options;\n    if (typeof options.headerTitle === 'string') {\n      return options.headerTitle;\n    }\n\n    if (options.title && typeof options.title !== 'string' && __DEV__) {\n      throw new Error(`Invalid title for route \"${scene.route.routeName}\" - title must be string or null, instead it was of type ${typeof options.title}`);\n    }\n\n    return options.title;\n  }\n\n  _getLastScene(scene) {\n    return this.props.scenes.find(s => s.index === scene.index - 1);\n  }\n\n  _getBackButtonTitleString(scene) {\n    const lastScene = this._getLastScene(scene);\n    if (!lastScene) {\n      return null;\n    }\n    const { headerBackTitle } = lastScene.descriptor.options;\n    if (headerBackTitle || headerBackTitle === null) {\n      return headerBackTitle;\n    }\n    return this._getHeaderTitleString(lastScene);\n  }\n\n  _getTruncatedBackButtonTitle(scene) {\n    const lastScene = this._getLastScene(scene);\n    if (!lastScene) {\n      return null;\n    }\n    return lastScene.descriptor.options.headerTruncatedBackTitle;\n  }\n\n  _renderTitleComponent = props => {\n    const { layoutPreset } = this.props;\n    const { options } = props.scene.descriptor;\n    const headerTitle = options.headerTitle;\n    if (React.isValidElement(headerTitle)) {\n      return headerTitle;\n    }\n    const titleString = this._getHeaderTitleString(props.scene);\n\n    const titleStyle = options.headerTitleStyle;\n    const color = options.headerTintColor;\n    const allowFontScaling = options.headerTitleAllowFontScaling;\n\n    // When title is centered, the width of left/right components depends on the\n    // calculated size of the title.\n    const onLayout = layoutPreset === 'center' ? e => {\n      this.setState({\n        widths: {\n          ...this.state.widths,\n          [props.scene.key]: e.nativeEvent.layout.width\n        }\n      });\n    } : undefined;\n\n    const HeaderTitleComponent = headerTitle && typeof headerTitle !== 'string' ? headerTitle : HeaderTitle;\n    return <HeaderTitleComponent onLayout={onLayout} allowFontScaling={allowFontScaling == null ? true : allowFontScaling} style={[color ? { color } : null, layoutPreset === 'center' ? { textAlign: 'center' } : { textAlign: 'left' }, titleStyle]}>\n        {titleString}\n      </HeaderTitleComponent>;\n  };\n\n  _renderLeftComponent = props => {\n    const { options } = props.scene.descriptor;\n    if (React.isValidElement(options.headerLeft) || options.headerLeft === null) {\n      return options.headerLeft;\n    }\n\n    if (!options.headerLeft && props.scene.index === 0) {\n      return;\n    }\n\n    const backButtonTitle = this._getBackButtonTitleString(props.scene);\n    const truncatedBackButtonTitle = this._getTruncatedBackButtonTitle(props.scene);\n    const width = this.state.widths[props.scene.key] ? (this.props.layout.initWidth - this.state.widths[props.scene.key]) / 2 : undefined;\n    const RenderedLeftComponent = options.headerLeft || HeaderBackButton;\n    const goBack = () => {\n      // Go back on next tick because button ripple effect needs to happen on Android\n      requestAnimationFrame(() => {\n        props.scene.descriptor.navigation.goBack(props.scene.descriptor.key);\n      });\n    };\n    return <RenderedLeftComponent onPress={goBack} pressColorAndroid={options.headerPressColorAndroid} tintColor={options.headerTintColor} backImage={options.headerBackImage} title={backButtonTitle} truncatedTitle={truncatedBackButtonTitle} backTitleVisible={this.props.backTitleVisible} titleStyle={options.headerBackTitleStyle} layoutPreset={this.props.layoutPreset} width={width} />;\n  };\n\n  _renderModularLeftComponent = (props, ButtonContainerComponent, LabelContainerComponent) => {\n    const { options, navigation } = props.scene.descriptor;\n    const backButtonTitle = this._getBackButtonTitleString(props.scene);\n    const truncatedBackButtonTitle = this._getTruncatedBackButtonTitle(props.scene);\n    const width = this.state.widths[props.scene.key] ? (this.props.layout.initWidth - this.state.widths[props.scene.key]) / 2 : undefined;\n\n    const goBack = () => {\n      // Go back on next tick because button ripple effect needs to happen on Android\n      requestAnimationFrame(() => {\n        navigation.goBack(props.scene.descriptor.key);\n      });\n    };\n\n    return <ModularHeaderBackButton onPress={goBack} ButtonContainerComponent={ButtonContainerComponent} LabelContainerComponent={LabelContainerComponent} pressColorAndroid={options.headerPressColorAndroid} tintColor={options.headerTintColor} backImage={options.headerBackImage} title={backButtonTitle} truncatedTitle={truncatedBackButtonTitle} titleStyle={options.headerBackTitleStyle} width={width} />;\n  };\n\n  _renderRightComponent = props => {\n    const { headerRight } = props.scene.descriptor.options;\n    return headerRight || null;\n  };\n\n  _renderLeft(props) {\n    const { options } = props.scene.descriptor;\n\n    const { transitionPreset } = this.props;\n\n    let { style } = props;\n    if (options.headerLeftContainerStyle) {\n      style = [style, options.headerLeftContainerStyle];\n    }\n\n    // On Android, or if we have a custom header left, or if we have a custom back image, we\n    // do not use the modular header (which is the one that imitates UINavigationController)\n    if (transitionPreset !== 'uikit' || options.headerBackImage || options.headerLeft || options.headerLeft === null) {\n      return this._renderSubView({ ...props, style }, 'left', this._renderLeftComponent, this.props.leftInterpolator);\n    } else {\n      return this._renderModularSubView({ ...props, style }, 'left', this._renderModularLeftComponent, this.props.leftLabelInterpolator, this.props.leftButtonInterpolator);\n    }\n  }\n\n  _renderTitle(props, options) {\n    const { layoutPreset, transitionPreset } = this.props;\n    let style = [{ justifyContent: layoutPreset === 'center' ? 'center' : 'flex-start' }, getTitleOffsets(layoutPreset, false, options.hasLeftComponent, options.hasRightComponent), options.headerTitleContainerStyle];\n\n    return this._renderSubView({ ...props, style }, 'title', this._renderTitleComponent, transitionPreset === 'uikit' ? this.props.titleFromLeftInterpolator : this.props.titleInterpolator);\n  }\n\n  _renderRight(props) {\n    const { options } = props.scene.descriptor;\n\n    let { style } = props;\n    if (options.headerRightContainerStyle) {\n      style = [style, options.headerRightContainerStyle];\n    }\n\n    return this._renderSubView({ ...props, style }, 'right', this._renderRightComponent, this.props.rightInterpolator);\n  }\n\n  _renderBackground(props) {\n    const {\n      index,\n      descriptor: { options }\n    } = props.scene;\n\n    const offset = this.props.navigation.state.index - index;\n\n    if (Math.abs(offset) > 2) {\n      // Scene is far away from the active scene. Hides it to avoid unnecessary\n      // rendering.\n      return null;\n    }\n\n    return this._renderSubView({ ...props, style: StyleSheet.absoluteFill }, 'background', () => options.headerBackground, this.props.backgroundInterpolator);\n  }\n\n  _renderModularSubView(props, name, renderer, labelStyleInterpolator, buttonStyleInterpolator) {\n    const { scene } = props;\n    const { index, isStale, key } = scene;\n\n    // Never render a modular back button on the first screen in a stack.\n    if (index === 0) {\n      return;\n    }\n\n    const offset = this.props.navigation.state.index - index;\n\n    if (Math.abs(offset) > 2) {\n      // Scene is far away from the active scene. Hides it to avoid unnecessary\n      // rendering.\n      return null;\n    }\n\n    const ButtonContainer = ({ children }) => <Animated.View style={[buttonStyleInterpolator({ ...this.props, ...props })]}>\n        {children}\n      </Animated.View>;\n\n    const LabelContainer = ({ children }) => <Animated.View style={[labelStyleInterpolator({ ...this.props, ...props })]}>\n        {children}\n      </Animated.View>;\n\n    const subView = renderer(props, ButtonContainer, LabelContainer);\n\n    if (subView === null) {\n      return subView;\n    }\n\n    const pointerEvents = offset !== 0 || isStale ? 'none' : 'box-none';\n\n    return <View key={`${name}_${key}`} pointerEvents={pointerEvents} style={[styles.item, styles[name], props.style]}>\n        {subView}\n      </View>;\n  }\n\n  _renderSubView(props, name, renderer, styleInterpolator) {\n    const { scene } = props;\n    const { index, isStale, key } = scene;\n\n    const offset = this.props.navigation.state.index - index;\n\n    if (Math.abs(offset) > 2) {\n      // Scene is far away from the active scene. Hides it to avoid unnecessary\n      // rendering.\n      return null;\n    }\n\n    const subView = renderer(props);\n\n    if (subView == null) {\n      return null;\n    }\n\n    const pointerEvents = offset !== 0 || isStale ? 'none' : 'box-none';\n\n    return <Animated.View pointerEvents={pointerEvents} key={`${name}_${key}`} style={[styles.item, styles[name], props.style, styleInterpolator({\n      ...this.props,\n      ...props\n    })]}>\n        {subView}\n      </Animated.View>;\n  }\n\n  _renderHeader(props) {\n    const { options } = props.scene.descriptor;\n    if (options.header === null) {\n      return null;\n    }\n    const left = this._renderLeft(props);\n    const right = this._renderRight(props);\n    const title = this._renderTitle(props, {\n      hasLeftComponent: !!left,\n      hasRightComponent: !!right,\n      headerTitleContainerStyle: options.headerTitleContainerStyle\n    });\n\n    const { transitionPreset } = this.props;\n\n    const wrapperProps = {\n      style: styles.header,\n      key: `scene_${props.scene.key}`\n    };\n\n    if (options.headerLeft || options.headerBackImage || Platform.OS !== 'ios' || transitionPreset !== 'uikit') {\n      return <View {...wrapperProps}>\n          {title}\n          {left}\n          {right}\n        </View>;\n    } else {\n      return <MaskedViewIOS {...wrapperProps} maskElement={<View style={styles.iconMaskContainer}>\n              <Image source={require('../assets/back-icon-mask.png')} style={styles.iconMask} />\n              <View style={styles.iconMaskFillerRect} />\n            </View>}>\n          {title}\n          {left}\n          {right}\n        </MaskedViewIOS>;\n    }\n  }\n\n  render() {\n    let appBar;\n    let background;\n    const { mode, scene, isLandscape } = this.props;\n\n    if (mode === 'float') {\n      const scenesByIndex = {};\n      this.props.scenes.forEach(scene => {\n        scenesByIndex[scene.index] = scene;\n      });\n      const scenesProps = Object.values(scenesByIndex).map(scene => ({\n        position: this.props.position,\n        progress: this.props.progress,\n        scene\n      }));\n      appBar = scenesProps.map(this._renderHeader, this);\n      background = scenesProps.map(this._renderBackground, this);\n    } else {\n      const headerProps = {\n        position: new Animated.Value(this.props.scene.index),\n        progress: new Animated.Value(0),\n        scene: this.props.scene\n      };\n\n      appBar = this._renderHeader(headerProps);\n      background = this._renderBackground(headerProps);\n    }\n\n    const { options } = scene.descriptor;\n    const { headerStyle = {} } = options;\n    const headerStyleObj = StyleSheet.flatten(headerStyle);\n    const appBarHeight = getAppBarHeight(isLandscape);\n\n    const {\n      alignItems,\n      justifyContent,\n      flex,\n      flexDirection,\n      flexGrow,\n      flexShrink,\n      flexBasis,\n      flexWrap,\n      position,\n      padding,\n      paddingHorizontal,\n      paddingRight,\n      paddingLeft,\n      // paddingVertical,\n      // paddingTop,\n      // paddingBottom,\n      top,\n      right,\n      bottom,\n      left,\n      ...safeHeaderStyle\n    } = headerStyleObj;\n\n    if (__DEV__) {\n      warnIfHeaderStyleDefined(alignItems, 'alignItems');\n      warnIfHeaderStyleDefined(justifyContent, 'justifyContent');\n      warnIfHeaderStyleDefined(flex, 'flex');\n      warnIfHeaderStyleDefined(flexDirection, 'flexDirection');\n      warnIfHeaderStyleDefined(flexGrow, 'flexGrow');\n      warnIfHeaderStyleDefined(flexShrink, 'flexShrink');\n      warnIfHeaderStyleDefined(flexBasis, 'flexBasis');\n      warnIfHeaderStyleDefined(flexWrap, 'flexWrap');\n      warnIfHeaderStyleDefined(padding, 'padding');\n      warnIfHeaderStyleDefined(position, 'position');\n      warnIfHeaderStyleDefined(paddingHorizontal, 'paddingHorizontal');\n      warnIfHeaderStyleDefined(paddingRight, 'paddingRight');\n      warnIfHeaderStyleDefined(paddingLeft, 'paddingLeft');\n      // warnIfHeaderStyleDefined(paddingVertical, 'paddingVertical');\n      // warnIfHeaderStyleDefined(paddingTop, 'paddingTop');\n      // warnIfHeaderStyleDefined(paddingBottom, 'paddingBottom');\n      warnIfHeaderStyleDefined(top, 'top');\n      warnIfHeaderStyleDefined(right, 'right');\n      warnIfHeaderStyleDefined(bottom, 'bottom');\n      warnIfHeaderStyleDefined(left, 'left');\n    }\n\n    // TODO: warn if any unsafe styles are provided\n    const containerStyles = [options.headerTransparent ? styles.transparentContainer : styles.container, { height: appBarHeight }, safeHeaderStyle];\n\n    const { headerForceInset } = options;\n    const forceInset = headerForceInset || { top: 'always', bottom: 'never' };\n\n    return <Animated.View style={[this.props.layoutInterpolator(this.props), Platform.OS === 'ios' && !options.headerTransparent ? {\n      backgroundColor: safeHeaderStyle.backgroundColor || DEFAULT_BACKGROUND_COLOR\n    } : null]}>\n        <SafeAreaView forceInset={forceInset} style={containerStyles}>\n          {background}\n          <View style={styles.flexOne}>{appBar}</View>\n        </SafeAreaView>\n      </Animated.View>;\n  }\n}\n\nfunction warnIfHeaderStyleDefined(value, styleProp) {\n  if (styleProp === 'position' && value === 'absolute') {\n    console.warn(\"position: 'absolute' is not supported on headerStyle. If you would like to render content under the header, use the headerTransparent navigationOption.\");\n  } else if (value !== undefined) {\n    console.warn(`${styleProp} was given a value of ${value}, this has no effect on headerStyle.`);\n  }\n}\n\nlet platformContainerStyles;\nif (Platform.OS === 'ios') {\n  platformContainerStyles = {\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    borderBottomColor: '#A7A7AA'\n  };\n} else {\n  platformContainerStyles = {\n    shadowColor: 'black',\n    shadowOpacity: 0.1,\n    shadowRadius: StyleSheet.hairlineWidth,\n    shadowOffset: {\n      height: StyleSheet.hairlineWidth\n    },\n    elevation: 4\n  };\n}\n\nconst DEFAULT_BACKGROUND_COLOR = '#FFF';\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: DEFAULT_BACKGROUND_COLOR,\n    ...platformContainerStyles\n  },\n  transparentContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    ...platformContainerStyles,\n    borderBottomWidth: 0,\n    borderBottomColor: 'transparent',\n    elevation: 0\n  },\n  header: {\n    ...StyleSheet.absoluteFillObject,\n    flexDirection: 'row'\n  },\n  item: {\n    backgroundColor: 'transparent'\n  },\n  iconMaskContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'center'\n  },\n  iconMaskFillerRect: {\n    flex: 1,\n    backgroundColor: '#d8d8d8',\n    marginLeft: -3\n  },\n  iconMask: {\n    // These are mostly the same as the icon in ModularHeaderBackButton\n    height: 21,\n    width: 12,\n    marginLeft: 9,\n    marginTop: -0.5, // resizes down to 20.5\n    alignSelf: 'center',\n    resizeMode: 'contain',\n    transform: [{ scaleX: I18nManager.isRTL ? -1 : 1 }]\n  },\n  // eslint-disable-next-line react-native/no-unused-styles\n  title: {\n    bottom: 0,\n    top: 0,\n    position: 'absolute',\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  // eslint-disable-next-line react-native/no-unused-styles\n  left: {\n    left: 0,\n    bottom: 0,\n    top: 0,\n    position: 'absolute',\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  // eslint-disable-next-line react-native/no-unused-styles\n  right: {\n    right: 0,\n    bottom: 0,\n    top: 0,\n    position: 'absolute',\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  flexOne: {\n    flex: 1\n  }\n});\n\nexport default withOrientation(Header);"]},"metadata":{},"sourceType":"module"}